<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">

{%- include head.html -%}

<body>

{%- include header.html -%}

<!-- Flex container to hold sidebar and main content -->
<div class="content-container">
  <aside class="sidebar">
    <h2>Quick Navigation</h2>
    <ul>
      {% for item in site.sidebar %}
      <li>
        <a href="{{ item.url }}">{{ item.title }}</a>
        {% if item.toc %}
        <!-- Display TOC directly, without the button -->
        <div id="toc-{{ item.title | replace: ' ', '-' }}" class="toc-content">
          <ul>
            {% if item.title == "User Guide" %}
            <li><a href="UserGuide.html#quick-start">Quick Start</a></li>
            <li><a href="UserGuide.html#features">Features</a></li>
            <li><a href="UserGuide.html#faq">FAQ</a></li>
            <li><a href="UserGuide.html#known-issues">Known Issues</a></li>
            <li><a href="UserGuide.html#command-summary">Command Summary</a></li>
            {% elsif item.title == "Developer Guide" %}
            <li><a href="DeveloperGuide.html#acknowledgements">Acknowledgements</a></li>
            <li><a href="DeveloperGuide.html#setting-up-getting-started">Setting up and getting started</a></li>
            <li><a href="DeveloperGuide.html#design">Design</a></li>
            <li><a href="DeveloperGuide.html#implementation">Implementation</a></li>
            {% endif %}
          </ul>
        </div>
        {% endif %}
      </li>
      {% endfor %}
    </ul>
  </aside>

  <main class="page-content" aria-label="Content">
    <div class="wrapper">
      {{ content }}
    </div>
  </main>
</div>

<style>
  /* Flex container for sidebar and main content */
  .content-container {
    display: flex;
  }

  /* Sidebar styling */
  .sidebar {
    position: fixed; /* Fix the sidebar position */
    top: 0;         /* Align it to the top of the viewport */
    left: 0;        /* Align it to the left */
    width: 250px;  /* Set width of the sidebar */
    height: 100vh; /* Full height of the viewport */
    overflow-y: auto; /* Allow scrolling if content exceeds height */
    background-color: #f8f9fa; /* Optional: Background color */
    padding: 15px; /* Optional: Padding for aesthetics */
    border-right: 1px solid #ccc; /* Optional: Border for separation */
  }

  /* Main content styling */
  .page-content {
    flex: 1; /* Take up remaining space */
    padding: 20px;
  }

  /* Mobile styles */
  @media (max-width: 768px) {
    .content-container {
      flex-direction: column; /* Stack sidebar on top of main content */
    }
    .sidebar {
      position: relative; /* Sidebar no longer fixed */
      width: 100%; /* Full width of the viewport */
      height: auto; /* Auto height to fit content */
      border-right: none; /* Remove the right border */
      border-bottom: 1px solid #ccc; /* Optional: Add a bottom border */
    }
    .page-content {
      margin-left: 0; /* Remove sidebar spacing */
    }
  }

</style>

</body>
</html>
